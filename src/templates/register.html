<!DOCTYPE html>
<html>
<head>
    <title>Register for CareApp</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', path='login.css') }}">
</head>
<script>
    function validateForm() {
        var email = document.getElementById("email").value;
        if (!email.includes("@") || !email.includes(".")) {
            error_msg.innerHTML = "Invalid email address!";
            return false;
        }
        var password = document.getElementById("password").value;
        var confirm_password = document.getElementById("confirm_password").value;
        if (password.length < 8) {
            error_msg.innerHTML = "Password must be at least 8 characters long!";
            return false;
        }
        if (password != confirm_password) {
            error_msg.innerHTML = "Passwords do not match!";
            return false;
        }
        error_msg.innerHTML = "";
        return true;
    }
</script>
<body>
    <div class="login-box">
        <h1>Register for CareApp</h1>
        {% if error %}
        <div class="error">{{ error }}</div>
        {% endif %}
        <form method="POST" action="{{ url_for('register') }}" onsubmit="return validateForm()">
            <label for="email">Email:</label>
            <input type="text" id="email" name="email" required>
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
            <label for="confirm_password">Confirm Password:</label>
            <input type="password" id="confirm_password" name="confirm_password" required>
            <div id="error_msg" style="color: red;"></div>
            <button type="submit">Register</button>
        </form>
        <div class="register">
            <p>Already have an account? <a href="/login">Login here</a>.</p>
        </div>
    </div>
</body>
</html>